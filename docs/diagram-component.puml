@startuml
skinparam componentStyle uml2
skinparam shadowing false
skinparam backgroundColor #f9f9fb
skinparam component {
  backgroundColor #fcf9c9
  borderColor #f4ce72
}
skinparam interface {
  backgroundColor #fcf9c9
  borderColor #f4ce72
}

title Component Diagram — EnergyConsumptionManager (Activity Provider)

' ===========================
'   SMART HOME SUBSYSTEM
' ===========================
package "Smart Home" <<Frame>> {

  [Termoacumulador] <<component>>
  [Painel Solar] <<component>>

  interface IDataTermo
  interface IDataSolar

  IDataTermo -down- [Termoacumulador]
  IDataSolar -down- [Painel Solar]
}

' ===========================
'   ACTIVITY PROVIDER
' ===========================
package "EnergyConsumptionManager" <<Frame>> {

  component Monitorizacao
  component AnalyticsEngine
  component ActuatorController
  component ConfigManager
  component DeployManager
  component ReportBuilder <<Builder>>

  ' Requisições aos sensores
  Monitorizacao --> IDataTermo : <<requires>>
  Monitorizacao --> IDataSolar : <<requires>>

  ' Comunicação interna
  Monitorizacao --> AnalyticsEngine
  Monitorizacao --> ActuatorController
  ConfigManager --> Monitorizacao
  DeployManager --> Monitorizacao
  AnalyticsEngine --> ReportBuilder
}

' ===========================
'   PLATAFORMA CLOUD
' ===========================
package "Cloud / Plataforma" <<Frame>> {
  [HistoricoBD] <<component>>
  interface IHistorico
  IHistorico -up- [HistoricoBD]
}

AnalyticsEngine --> IHistorico : <<stores>>

' ===========================
'   INVEN!RA PLATFORM
' ===========================
package "Inven!RA (Plataforma)" <<Frame>> {

  interface IConfiguracao
  interface IDeploy
  interface IAnalytics
}

' Porto Configuração
ConfigManager -down-|> IConfiguracao : <<provides>>

' Porto Deploy
DeployManager -down-|> IDeploy : <<provides>>

' Porto Analytics
ReportBuilder -down-|> IAnalytics : <<provides>>
@enduml